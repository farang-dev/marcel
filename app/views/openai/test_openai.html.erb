<!-- app/views/openai/test_openai.html.erb -->
<h1>ðŸ¤– Marcel</h1>
<h3>I'm sending:</h3>
<%= form_with(url: test_openai_path, method: :post) do |form| %>
  <!-- Add the dropdown menus and text inputs -->
  <div>
    <%= form.label :to %>
    <%= form.select :to, ['colleague', 'manager', 'friend', 'family'] %>
  </div>
  <div>
    <%= form.label :platform %>
    <%= form.select :platform, ['email', 'LinkedIn', 'Instagram', 'Whatsapp'] %>
  </div>  
  <div>
    <%= form.label :tone %>
    <%= form.select :tone, ['formal', 'neutral', 'professional', 'friendly'] %>
  </div>
  <div>
    <%= form.label :length %>
    <%= form.select :length, ['in detail(long)', 'medium', 'short', 'very short'] %>
  </div>
  <div>
    <%= form.label :who %>
    <%= form.text_field :who, value: "Receiver's name" %>
  </div>
  <div>
    <%= form.label :message %>
    <%= form.text_area :message, value: "ãƒ»Write what to say" %>
  </div>
  <%= csrf_meta_tags %>
  <%= submit_tag "CREATE" %>
<% end %>
<!-- Add the JavaScript code -->
<script>
  function copyResponseToClipboard() {
    const responseElement = document.querySelector(".response-message");

    if (responseElement) {
      const responseText = responseElement.textContent.trim();

      const textArea = document.createElement("textarea");
      textArea.value = responseText;
      document.body.appendChild(textArea);

      textArea.select();
      document.execCommand("copy");
      document.body.removeChild(textArea);

      alert("Response copied to clipboard!");
    } else {
      alert("No response to copy.");
    }
  }
</script>
